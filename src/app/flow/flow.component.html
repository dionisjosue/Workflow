
<div>

    <div class="card">
        
        <div class="row" style="margin-top: 50px;">
            <div class="col-3">
                <div class="pagetitle">
                    <h1>FLUJOS</h1>
                </div>
            </div>
            <div class="col-9" style="margin-top: 27px;">
                <div class="float-end">
                    <a routerLink="/Flujo/Create" class="btn btn-success btn-sm rounded-pill">
                        CREAR NUEVO
                    </a>
                    
                </div>
            </div>
        </div>
    </div>
    <hr>

    <div class="row" >
        <div class="col-12" *ngFor="let flow of flows">
            <div class="card">
                <div class="pagetitle">
                    <div class="row">
                        <div class="col-4">
                            <h2>{{flow.flowName}}</h2>
                        </div>
                        <div class="col-8">
                            <div class="float-end">
                                <button class="btn btn-sm btn-secondary ">
                                    <i class="fa-solid fa-diagram-project"></i>
                                </button>
                                <a [routerLink]="['/Flow/Create', flow.id]" class="btn btn-sm btn-link">
                                    <i class="fa-solid fa-pen-to-square"></i>
                                </a>
                                <button class="btn btn-sm btn-danger ">
                                    <i class="fa-solid fa-trash-can"></i>
                                </button>
                            </div>
                        </div>
                        <div class="col-12"><hr></div>

                    </div>
                    <div class="row">
                        <div class="col-3">
                            <a href="#">Producto: <label>{{flow.product?.name}}</label></a>
                        </div>
                        <div class="col-8">
                            <span>Descripcion: <label> {{flow.description}}</label></span>
                        </div>
                    </div>
                </div>

                <table [class]="'table table-hover' + flow.showSteps">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Paso del Flujo</th>
                            <th scope="col">Etapa</th>
                            <th scope="col">Area</th>
                            <th scope="col">SLA (horas)</th>
                            <th scope="col">Proximo Paso</th>
                            <th scope="col">Comentario</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let step of flow.flowSteps let i = index">
                            <th scope="row">{{i}}</th>
                            <th>{{step.referenceName}}</th>
                            <th>{{step.step?.name}}</th>
                            <th>{{step.step?.area?.name}}</th>
                            <th>{{step.step?.sla}}</th>
                            <th>{{step.nextFlowStepFk}}</th>
                            <th>
                                <textarea class="form-control form-control-sm" 
                                [value]="step.comments" readonly></textarea>
                            </th>


                        </tr>
                    </tbody>
                </table>
            </div>
            
        </div>
   
    </div>
</div>
<router-outlet></router-outlet>
